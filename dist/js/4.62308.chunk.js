(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/PkL":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=(n("I7Ra"),function(e){var t=e.title,n=void 0===t?"Title":t,a=e.option;return r.a.createElement("header",{className:"pro-page_container_header"},r.a.createElement("div",null,n),r.a.createElement("div",null,"function"==typeof a?a():a))});t.a=Object(a.memo)((function(e){var t=e.children,n=e.head,a=e.title,c=e.option,i=e.padding,u=void 0===i?20:i,l=e.footer;return r.a.createElement("section",{className:"pro-page_container"},n?"function"==typeof n?n():n:a?r.a.createElement(o,{title:a,option:c}):"",r.a.createElement("div",{className:"pro-page_content",style:{padding:u+"px"}},t),r.a.createElement("div",null,l?"function"==typeof l?l():l:""))}))},I7Ra:function(e,t,n){},J5xn:function(e,t,n){"use strict";var a=n("q1tI"),r=n("cr+I"),o=n("Ty5D"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};t.a=function(){var e=Object(o.g)(),t=Object(a.useState)((function(){return Object(r.parse)(window.location.search)})),n=t[0],i=t[1];return Object(a.useEffect)((function(){i(Object(r.parse)(window.location.search))}),[e.location.search]),[n,function(t){var n=window.location,a=n.pathname,o=n.search,u=Object(r.stringify)(c(c({},Object(r.parse)(o)),t));i(c(c({},Object(r.parse)(o)),t));var l=a+(u?"?"+u:"");e.push(l)}]}},W7Fk:function(e,t,n){"use strict";n.r(t);var a=n("iJl9"),r=n.n(a),o=n("Btem"),c=n.n(o),i=n("DtFj"),u=n.n(i),l=n("4IMT"),s=n.n(l),f=n("qu0K"),p=n.n(f),d=n("q1tI"),m=n.n(d),b=n("/PkL"),h=n("J5xn"),v=n("sy1d"),y=n("G3dp"),g=n("xvlK"),O=(n("vhoJ"),n("U/Lg")),j=function(){return(j=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},w=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function c(e){try{u(a.next(e))}catch(e){o(e)}}function i(e){try{u(a.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}u((a=a.apply(e,t||[])).next())}))},E=function(e,t){function n(n){return function(c){return function(n){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return i.label++,{value:n[1],done:!1};case 5:i.label++,r=n[1],n=[0];continue;case 7:n=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){i=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){i.label=n[1];break}if(6===n[0]&&i.label<o[1]){i.label=o[1],o=n;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(n);break}o[2]&&i.ops.pop(),i.trys.pop();continue}n=t.call(e,i)}catch(e){n=[6,e],r=0}finally{a=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,c])}}var a,r,o,c,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};t.default=Object(d.memo)((function(){var e=p.a.useForm()[0],t=Object(h.a)(),n=t[0],a=t[1],o=n.page,i=void 0===o?"1":o,l=Object(d.useState)([]),f=l[0],k=l[1],x=Object(d.useState)(!1),I=x[0],S=x[1],_=Object(d.useState)(!1),C=_[0],J=_[1],P=Object(d.useState)(null),q=P[0],F=P[1],N=Object(d.useCallback)((function(){return w(void 0,void 0,void 0,(function(){var e,t;return E(this,(function(n){switch(n.label){case 0:return S(!0),[4,Object(v.a)("/ticket/fund/group",{page:parseInt(i)-1})];case 1:return e=n.sent(),t=e.list,k(t),S(!1),[2]}}))}))}),[n]),L=Object(d.useCallback)((function(e){return w(void 0,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,Object(v.b)("/ticket/fund/group",j(j({},e),{id:"edit"===C?null==q?void 0:q.id:""}))];case 1:return t.sent()?"1"!==i&&"edit"!==C?[3,3]:[4,N()]:[3,5];case 2:return t.sent(),[3,4];case 3:a({page:1}),t.label=4;case 4:J(!1),t.label=5;case 5:return[2]}}))}))}),[C]);Object(d.useEffect)((function(){N()}),[n]);var M=[{title:"板块名称",dataIndex:"name",key:"name",render:function(e){return m.a.createElement("p",{className:"page_fund_sort-tabl-tb"},e)}},{title:"基金持仓",dataIndex:"funds",key:"funds",render:function(e){var t=Object.values(e).map((function(e){return(e=e.slice(0,20)).reduce((function(e,t){return e+parseInt(t.fund)}),0)})),n={grid:{left:"1%",right:"4%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){return t[0].value+"("+e[t[0].name].length+")"}},color:["red","#CD3333"],xAxis:{type:"category",boundaryGap:!1,data:Object.keys(e)},yAxis:{type:"value",min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}};return m.a.createElement("div",{className:"page_fund_sort-table"},m.a.createElement(O.a,{style:{height:"250px",width:"45%"},option:j(j({},n),{series:[{type:"line",data:t}]})}))}},{title:"操作",dataIndex:"action",key:"action",render:function(t,n){return m.a.createElement(s.a,{onClick:function(){F(n),e.setFieldsValue({name:n.name}),J("edit")}},m.a.createElement(y.a,null),"修改",t)}}];return m.a.createElement(b.a,{title:"板块列表",option:function(){return m.a.createElement("div",null,m.a.createElement(s.a,{onClick:function(){e.setFieldsValue({name:""}),J("add")}},m.a.createElement(g.a,null),"添加板块"))}},m.a.createElement(u.a,{pagination:!1,columns:M,dataSource:f,loading:I}),m.a.createElement(c.a,{title:"edit"===C?"修改板块":"添加板块",placement:"right",contentWrapperStyle:{width:"350px"},onClose:function(){return J(!1)},closable:!1,visible:!!C},m.a.createElement(p.a,{form:e,name:"control-hooks",onFinish:function(e){return w(void 0,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,L(e)];case 1:return t.sent(),[2]}}))}))}},m.a.createElement(p.a.Item,{name:"name",label:"板块名称",rules:[{required:!0}]},m.a.createElement(r.a,null)),m.a.createElement(p.a.Item,{className:"cms-mt_20"},m.a.createElement(s.a,{type:"primary",htmlType:"submit"},"edit"===C?"修改板块":"添加板块")))))}))},sy1d:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n("vDqi"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=n.n(a).a.create({baseURL:"http://127.0.0.1:3000",timeout:6e5});o.interceptors.response.use((function(e){var t=e.data,n=void 0===t?{}:t,a=n.statusCode,r=n.data;return 0===a?r:Promise.reject(n)}));var c=function(e,t,n){return o.get(e,r(r({},n),{params:t}))},i=function(e,t,n){return o.post(e,t,n)}},vhoJ:function(e,t,n){}}]);
//# sourceMappingURL=4.62308.chunk.js.map